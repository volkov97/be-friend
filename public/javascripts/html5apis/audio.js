define(["bufferLoader"],function(n){function o(n){f.correct=n[0],f.wrong=n[1],f.finish=n[2]}function i(n){if(t&&u){var o=r.createBufferSource();o.buffer=n,o.connect(r.destination),o.start(0)}}var t,r,e,u=!0,c=["../../sounds/correct.wav","../../sounds/wrong.wav","../../sounds/finish.wav"],f={correct:null,wrong:null,finish:null},w={};return w.init=function(){window.AudioContext=window.AudioContext||window.webkitAudioContext||null,t=window.AudioContext,t?(r=new AudioContext,e=new n(r,c,o),e.load()):console.warn("Web Audio API is not supported by your device.")},w.isSupported=function(){return t},w.isTurnedOn=function(){return u},w.turnOn=function(){u=!0},w.turnOff=function(){u=!1},w.correctAnswer=function(){i(f.correct)},w.wrongAnswer=function(){i(f.wrong)},w.finishGame=function(){i(f.finish)},w});