define(["sw"],function(i){function t(){if(!window.Notification||!Notification.requestPermission)return!1;if("granted"==Notification.permission)throw new Error("You must only call this *before* calling Notification.requestPermission(), otherwise this feature detect would bug the user with an actual notification!");try{new Notification("")}catch(i){if("TypeError"==i.name)return!1}return!0}function n(i,t,n){navigator.serviceWorker.ready.then(function(o){o.showNotification(i,{body:t,dir:"auto",lang:"RU",tag:"notificationPopup",icon:n})})}function o(i,t,n,o,a){var e="";o&&(e='<div class="notification__image"><img src="'+o+'" width=100 height=100 /></div>');var c='<div class="notification__activities"><button class="confirm">Принять</button><button class="reject">Отказать</button></div>',s='<div class="'+i+' notification animated bounceInUp"><a class="notification__close" href="#"><svg class="vk" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#close"></use></svg></a><div class="notification__header">Уведомление</div><div class="notification__content clearfix">'+e+'<div class="notification__title">'+t+'</div><div class="notification__text">'+n+"</div></div>"+(a?c:"")+"</div>";$("body").append(s)}var a={};return a.showNotification=function(i,a,e,c,s){window.Notification&&"granted"==Notification.permission?n(a,e,c):t()&&Notification.requestPermission(function(i){"granted"===i&&n(a,e,c)}),o(i,a,e,c,s)},a});