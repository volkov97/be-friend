define(["sw","audio"],function(i,t){function n(){if(!window.Notification||!Notification.requestPermission)return!1;if("granted"==Notification.permission)throw new Error("You must only call this *before* calling Notification.requestPermission(), otherwise this feature detect would bug the user with an actual notification!");try{new Notification("")}catch(i){if("TypeError"==i.name)return!1}return!0}function o(i,t,n){navigator.serviceWorker.ready.then(function(o){o.showNotification(i,{body:t,dir:"auto",lang:"RU",tag:"notificationPopup",icon:n})})}function a(i,n,o,a,e){var c="";a&&(c='<div class="notification__image"><img src="'+a+'" width=100 height=100 /></div>');var s='<div class="'+i+' notification animated bounceInUp"><a class="notification__close" href="#"><svg class="vk" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#close"></use></svg></a><div class="notification__header">Уведомление</div><div class="notification__content clearfix">'+c+'<div class="notification__title">'+n+'</div><div class="notification__text">'+o+"</div></div>"+(e?'<div class="notification__activities"><button class="confirm">Принять</button><button class="reject">Отказать</button></div>':"")+"</div>";$("body").append(s),t.notification()}var e={};return e.showNotification=function(i,t,e,c,s){window.Notification&&"granted"==Notification.permission?o(t,e,c):n()&&Notification.requestPermission(function(i){"granted"===i&&o(t,e,c)}),a(i,t,e,c,s)},e});