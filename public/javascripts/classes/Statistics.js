define(["timer"],function(t){var e={rightAnswers_count:0,mistakes_count:0,firstTryRightAnswers_count:0};return e.resetStatistic=function(){e.rightAnswers_count=0,e.mistakes_count=0,e.firstTryRightAnswers_count=0},e.incRightAnswers_count=function(){e.rightAnswers_count++},e.incMistakes_count=function(){e.mistakes_count++},e.incFirstTryRightAnswers=function(){e.firstTryRightAnswers_count++},e.getOneGameStatistics=function(){return{rightAnswers_count:e.rightAnswers_count,mistakes_count:e.mistakes_count,game_time:t.getTotalGameTime(),firstTryRightAnswers_count:e.firstTryRightAnswers_count}},e.getFullStatistics=function(t){var e={};return e.games_count=t["COUNT(*)"],e.rightAnswers_count=t["SUM(hits)"],e.firstTryRightAnswers_count=t["SUM(first_try_hits)"],e.mistakes_count=t["SUM(misses)"],e.maxScore=t["MAX(score)"],0==t["COUNT(*)"]?(e.averageScorePerGame=0,e.averageTimePerGame=0,e.averageMistakesPerGame=0):(e.averageScorePerGame=Math.round(t["SUM(score)"]/t["COUNT(*)"]*100)/100,e.averageTimePerGame=Math.round(t["SUM(game_time)"]/t["COUNT(*)"]*100)/100,e.averageMistakesPerGame=Math.round(t["SUM(misses)"]/t["COUNT(*)"]*100)/100),e.rightAnswers_count+e.mistakes_count==0?e.rightAnswers_percent=0:e.rightAnswers_percent=Math.round(e.rightAnswers_count/(e.rightAnswers_count+e.mistakes_count)*1e4)/100+"%",e},e});